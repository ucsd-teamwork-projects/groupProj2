<div>
    {{!-- Partial for flash messages --}}
    {{> flashMsgs}}
</div>

<div>
    <h1 class="mt-4">Dashboard</h1>
    <p class="lead mb-3">Welcome {{name}}</p>
    <a href="/logout" class="btn btn-secondary">Logout</a>
</div>
<hr>



{{!-- Form to add medication --}}
<form action="/api/add-meds/{{id}}/{{name}}" method="POST">
    <h2 class="h2">Add Medications</h2>
    <div class="form-group">
        <label for="rxName">Medication Name</label>
        <input
            type="rxName"
            id="rxName"
            name="rxName"
            class="form-control"
            placeholder="Medication Name"
        />
    </div>
    <div class="form-group">
        <label for="rxNum">Medication Rx Number</label>
        <input
            type="rxNum"
            id="rxNum"
            name="rxNum"
            class="form-control"
            placeholder="Rx Number"
        />
    </div>
    <button type="submit" class="btn btn-primary btn-block">Add</button>
</form>

{{!-- Table for displaying medication --}}
<br><hr><br>
<h2 class="h2">Your current Medications</h2>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Rx Number</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
    {{#each meds}}
        <tr id="medrow-{{this.id}}"">
            <td>{{this.rxName}}</td>
            <td>{{this.rxNum}}</td>
            <td><button data-id={{this.id}} class="btn btn-danger delete-med">Delete</button></td>
        </tr>
    {{/each}}
  </tbody>
</table>

{{!-- <script>
        sessionStorage.setItem("userid", {{id}})
</script> --}}